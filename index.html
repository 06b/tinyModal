<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>tinyModal</title>

	<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic,700italic">
	<link rel="stylesheet" href="https://rawgit.com/juanbrujo/tinyModal/gh-pages/dist/tinyModal.css">
	<link rel="stylesheet" href="css/demo.css">

</head>
<body>

	<aside id="first-modal" class="tinymodal-window">
		<h2>:D</h2>
		<p>
			ESC or click outside to close the modal.
		</p>
		<button class="tinymodal-close">Close</button> <button onclick="javascript:closeModal();">Close with JS</button>
	</aside>

	<aside id="second-modal" class="tinymodal-window" data-size="70%,300px" data-newclass="photo">
		<h2>That's a completely different popup</h2>
		<p>
			ESC or click outside to close the modal.
		</p>
		<button class="tinymodal-close">X</button>
	</aside>

	<article>
		<h1>tinyModal.js</h1>
		<h2>2kb modular modal window controller.</h2>
		<p>Lorem ipsum dolor sit cuchuflí barquillo bacán jote gamba listeilor po cahuín, luca melón con vino pichanga coscacho ni ahí peinar la muñeca chuchada al chancho achoclonar. Chorrocientos pituto ubicatex huevo duro bolsero cachureo el hoyo del queque en cana huevón el año del loly hacerla corta impeque de miedo quilterry la raja longi ñecla. Hilo curado rayuela carrete quina guagua lorea piola ni ahí.</p>
		<h2>Demo: <i>open using function</i></h2>
		<p class="center">
			<button onclick="javascript:openModal();">Open #first-modal</button>
			<button onclick="javascript:openSecondModal();">Open #second-modal</button>
		</p>
		<h2>Demo: <i>open anchor</i></h2>
		<p class="center">
			<a href="#first-modal" class="tinymodal-modal">Open first-modal</a>
			<a href="#second-modal" class="tinymodal-modal">Open second-modal</a>
		</p>
		<h2>Demo: <i>open image link</i></h2>
		<p class="center">
			<a href="http://placekitten.com.s3.amazonaws.com/homepage-samples/408/287.jpg" class="tinymodal-modal"><img src="http://placekitten.com.s3.amazonaws.com/homepage-samples/408/287.jpg" alt="Kitten Placeholder"></a>
		</p>
		<p>Lorem ipsum dolor sit cuchuflí barquillo bacán jote gamba listeilor po cahuín, luca melón con vino pichanga coscacho ni ahí peinar la muñeca chuchada al chancho achoclonar. Chorrocientos pituto ubicatex huevo duro bolsero cachureo el hoyo del queque en cana huevón el año del loly hacerla corta impeque de miedo quilterry la raja longi ñecla. Hilo curado rayuela carrete quina guagua lorea piola ni ahí.</p>
		<p><a href="https://github.com/juanbrujo/tinyModal">GitHub</a></p>
	</article>

	<script src="https://rawgit.com/juanbrujo/tinyModal/gh-pages/dist/tinyModal.js"></script>
	<script>
		function openModal() {
			tinyModal.openModal("#first-modal", function(){ // callback
				console.log('#first-modal open'); 
			});
		}
		function openSecondModal() {
			tinyModal.openModal("#second-modal");
		}
		function closeModal() {
			tinyModal.closeModal(function(){  // callback
				console.log('closed by closeModal() function');
			});
		}
		var links = document.querySelectorAll('a.tinymodal-modal');
		for (var i = 0; links.length > i; i++) {
			links[i].addEventListener("click", function(event){  // callback
				event.preventDefault();
				var element = this.getAttribute("href");
				tinyModal.openModal(element, function(){
					var closeLink = this.querySelectorAll('a[href="javascript:closeModal()"]');
					if (closeLink.length < 1) {
						var closeLink = document.createElement("a");
						closeLink.setAttribute("href","javascript:closeModal()");
						closeLink.innerHTML = "X";
						this.appendChild(closeLink);
					}
					console.log('opened by <a>');
				});
			});
		}
	</script>
</body>
</html>